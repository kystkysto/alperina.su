console.log("strting app"),$("#menu-toggle").click(function(o){o.preventDefault(),$("#wrapper").toggleClass("toggled")}),angular.module("admin",["ngRoute","ngSanitize","ngResource","ui.bootstrap","textAngular","ngFileUpload"]).config(["$routeProvider","$locationProvider",function(o,l){o.when("/",{templateUrl:"/api/material/list.html",controller:"MaterialsController",controllerAs:"materials"}).when("/materials",{templateUrl:"/api/material/list.html",controller:"MaterialsController"}).when("/materials/:id",{templateUrl:"/api/material/edit.html",controller:"MaterialController"}).when("/photos",{templateUrl:"/api/photo/list.html",controller:"PhotosController"}).when("/photos/:rubric",{templateUrl:"/api/photo/list.html",controller:"PhotosController"}).when("/videos",{templateUrl:"/api/video/list.html",controller:"VideosController",controllerAs:"videos"}).when("/videos/:id",{templateUrl:"/api/video/edit.html",controller:"VideoController",controllerAs:"video"}).when("/tags",{templateUrl:"/api/tag/list.html",controller:"TagsController",controllerAs:"tags"}).when("/tags/:id",{templateUrl:"/api/tag/edit.html",controller:"TagController",controllerAs:"tag"}),l.html5Mode(!0)}]),angular.module("admin").factory("Material",["$resource",function(o){return o("/api/material/:id.json",null,{update:{method:"PUT"}})}]),angular.module("admin").controller("MaterialController",["$scope","$routeParams","Material",function(o,l,e){console.log("MaterialController"),console.log(l.id);var t={};isNaN(parseFloat(l.id))||(t=e.get({id:l.id},function(l){l.published=new Date(l.published),console.log(l),o.material=l})),o.materialRubrics=[{name:"Персоны",value:"persons"},{name:"Рецензии",value:"reviews"},{name:"Новости",value:"news"}],o.materialTags=[{name:"Звёзды",alias:"celebrity"},{name:"Актёры",alias:"actors"},{name:"Режисёры",alias:"Directors"}]}]),angular.module("admin").controller("MaterialsController",["$scope",function(){console.log("MaterialsController")}]),angular.module("admin").controller("PhotoController",["$scope","Photo",function(o,l){function e(l,e){l!==e&&(o.photoChanged=!0)}console.log("PhotoController"),console.log(o.photo),o.photoChanged=!1,o.savePhoto=function(){l.update({id:o.photo.id},{photo:o.photo}),o.photoChanged=!1},o.deletePhoto=function(e){l["delete"]({id:o.photo.id}),delete o.list[e]},o.$watch(function(){return o.photo},e,!0)}]),angular.module("admin").factory("Photo",["$resource",function(o){return o("/api/photo/:id.json",null,{update:{method:"PUT"}})}]),angular.module("admin").controller("PhotosController",["$scope","$http","$routeParams","Photo",function(o,l,e,t){console.log("PhotosController"),e.rubric&&(o.rubric=e.rubric),o.list={},o.photoRubrics=[{name:"Свои",value:"self"},{name:"Другие",value:"other"},{name:"Клуб",value:"club"},{name:"Материалы",value:"material"}],o.list=t.query({rubric:o.rubric},function(o){console.log(o)})}]),angular.module("admin").controller("TagController",["$scope",function(){console.log("TagController")}]),angular.module("admin").controller("TagsController",["$scope",function(){console.log("TagsController")}]),angular.module("admin").controller("VideoController",["$scope",function(){console.log("VideoController")}]),angular.module("admin").controller("VideosController",["$scope",function(){console.log("VideosController")}]);